(this["webpackJsonptrain-react"]=this["webpackJsonptrain-react"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(8),i=c.n(n),r=(c(14),c(2)),l=c(3),o=c(5),d=c(4),j=(c(15),c(0)),h=function(e){var t=e.initial;return Object(j.jsx)("nav",{className:"light-blue accent-2",children:Object(j.jsxs)("div",{className:"nav-wrapper",children:[Object(j.jsx)("a",{href:"/",className:"brand-logo",onClick:function(e){e.preventDefault(),t()},children:"Movies"}),Object(j.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"https://github.com/Ksooft",target:"_blank",rel:"noopener noreferrer",children:"Github"})})})]})})},u=function(){return Object(j.jsx)("footer",{className:"page-footer light-blue accent-1",children:Object(j.jsx)("div",{className:"footer-copyright",children:Object(j.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," Copyright Text",Object(j.jsx)("a",{className:"grey-text text-lighten-4 right",href:"https://github.com/Ksooft",target:"_blank",rel:"noopener noreferrer",children:"Github"})]})})})},b=c(7),p=function(e){var t=e.Poster,c=e.Title,a=e.Year,s=e.imdbID,n=e.Type,i=e.openModal;return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"card-image",children:[Object(j.jsx)("img",{src:"N/A"===t?"https://via.placeholder.com/300x444?text=".concat(c):t,alt:c}),Object(j.jsx)("button",{className:"btn-floating halfway-fab waves-effect waves-light light-blue accent-2","data-id":s,onClick:function(e){return i.apply(undefined,[e])},children:Object(j.jsx)("i",{className:"material-icons",children:"add"})})]}),Object(j.jsxs)("div",{className:"card-content",children:[Object(j.jsx)("span",{className:"card-title",children:c}),Object(j.jsxs)("p",{children:[a," ",Object(j.jsx)("span",{className:"right",children:n})]})]})]})},m=function(e){var t=e.movies,c=e.openModal,a=[],s={};t.forEach((function(e){return a.push(e.imdbID)}));for(var n=0;n<a.length;n++){var i=a[n];s.hasOwnProperty(i)||(s[i]=0),s[i]++}return Object(j.jsx)(j.Fragment,{children:t.length?Object(j.jsx)("div",{className:"cards",children:t.map((function(e){return"tt6320628"!==e.imdbID&&s[e.imdbID]<2?Object(j.jsx)(p,Object(b.a)(Object(b.a)({},e),{},{openModal:c}),e.imdbID):""}))}):Object(j.jsx)("h3",{children:"Nothing found!"})})},f=function(){return Object(j.jsx)("div",{className:"progress",children:Object(j.jsx)("div",{className:"indeterminate"})})},O=function(e){var t=e.type,c=e.handleRadio,a=e.state;return Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{className:"with-gap",type:"radio",name:"type",value:t,checked:a===t,onChange:function(e){return c(e)}}),Object(j.jsx)("span",{children:t[0].toUpperCase()+t.slice(1)})]})},v=function(e){var t=e.stateType,c=e.filtered,a=e.search,s=function(e){return c(e,a)};return Object(j.jsxs)("div",{children:[Object(j.jsx)(O,{type:"all",handleRadio:s,state:t}),Object(j.jsx)(O,{type:"movie",handleRadio:s,state:t}),Object(j.jsx)(O,{type:"series",handleRadio:s,state:t}),Object(j.jsx)(O,{type:"game",handleRadio:s,state:t})]})},x=function(e){Object(o.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(r.a)(this,c);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={search:""},e.handleKey=function(t){"Enter"===t.key&&e.props.searchMovies(e.state.search,e.props.stateType)},e}return Object(l.a)(c,[{key:"render",value:function(){var e=this,t=this.props,c=t.searchMovies,a=t.handleFilter,s=t.stateType,n=this.state.search;return Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("input",{placeholder:"Search",type:"search",className:"validate",id:"search",value:this.state.search,onChange:function(t){return e.setState({search:t.target.value})},onKeyDown:this.handleKey}),Object(j.jsx)("button",{className:"btn btn-search light-blue accent-2",onClick:function(){return c(n,s)},children:"search"})]}),Object(j.jsx)(v,{filtered:a,stateType:s,search:n})]})}}]),c}(a.Component),g=function(e){var t=e.k,c=e.content;return"Poster"!==t&&"Metascore"!==t&&"imdbRating"!==t&&"imdbVotes"!==t&&"imdbID"!==t&&"Type"!==t&&"DVD"!==t&&"Website"!==t&&"Response"!==t?"Ratings"===t?Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{className:"modal-key",children:"Ratings:"}),c[t].length?c[t].map((function(e,t){return Object(j.jsxs)("span",{className:"modal-ratings",children:[Object(j.jsx)("span",{className:"modal-ratings-source",children:"Source:"})," ",e.Source," Value: ",e.Value]},t)})):Object(j.jsx)("span",{className:"modal-value",children:"N/A"})]}):Object(j.jsxs)("li",{children:[Object(j.jsxs)("span",{className:"modal-key",children:["totalSeasons"===t?"Total seasons":t,":"]})," ",Object(j.jsx)("span",{className:"modal-value",children:c[t]})]}):""},N=function(e){var t=e.isOpened,c=e.onModalClose,a=e.content,s=a.Title,n=void 0===s?"N/A":s,i=a.Type,r=void 0===i?"N/A":i,l=[];for(var o in a)l.push(o);return Object(j.jsx)("div",{className:"modal-detail".concat(t?" open":""),onClick:c,children:Object(j.jsxs)("div",{className:"modal-detail-content",onClick:function(e){return e.stopPropagation()},children:[Object(j.jsx)("span",{className:"modal-close",onClick:c,children:"\xd7"}),Object(j.jsxs)("h5",{className:"modal-title",children:[n," ",Object(j.jsxs)("span",{children:["(",r,")"]})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("ul",{className:"modal-collection",children:l.map((function(e,t){return Object(j.jsx)(g,{k:e,content:a},t)}))})]})})},y=function(){return Object(j.jsx)("div",{className:"modal-preloader",children:Object(j.jsxs)("div",{className:"preloader-wrapper big active",children:[Object(j.jsxs)("div",{className:"spinner-layer spinner-blue",children:[Object(j.jsx)("div",{className:"circle-clipper left",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"gap-patch",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"circle-clipper right",children:Object(j.jsx)("div",{className:"circle"})})]}),Object(j.jsxs)("div",{className:"spinner-layer spinner-red",children:[Object(j.jsx)("div",{className:"circle-clipper left",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"gap-patch",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"circle-clipper right",children:Object(j.jsx)("div",{className:"circle"})})]}),Object(j.jsxs)("div",{className:"spinner-layer spinner-yellow",children:[Object(j.jsx)("div",{className:"circle-clipper left",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"gap-patch",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"circle-clipper right",children:Object(j.jsx)("div",{className:"circle"})})]}),Object(j.jsxs)("div",{className:"spinner-layer spinner-green",children:[Object(j.jsx)("div",{className:"circle-clipper left",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"gap-patch",children:Object(j.jsx)("div",{className:"circle"})}),Object(j.jsx)("div",{className:"circle-clipper right",children:Object(j.jsx)("div",{className:"circle"})})]})]})})},w=c(9),P=function(e){for(var t=e.postsPerPage,c=e.currentPage,s=e.changePage,n=Object(a.useState)([]),i=Object(w.a)(n,2),r=i[0],l=i[1],o=[],d=window.innerWidth,h=1;h<=t;h++)o.push(h);var u=[];return Object(a.useEffect)((function(){if(d<510)return(u=[].concat(o)).length>5?u=u.slice(0,5):u.length<=5&&(u=[].concat(o)),void l(u);(u=[].concat(o)).length>10?u=u.slice(0,10):u.length<=10&&(u=[].concat(o)),l(u)}),[t]),Object(j.jsx)("div",{className:"pagination-wrapper",style:{textAlign:"center"},children:Object(j.jsxs)("ul",{className:"pagination",children:[Object(j.jsx)("li",{onClick:function(e){e.preventDefault(),1!==r[0]&&(u=(u=[].concat(o)).slice(r[0]-2,r[r.length-1]-1),l(u))},className:1===r[0]?"waves-effect disabled":"waves-effect",children:Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("i",{className:"material-icons",children:"chevron_left"})})}),r.map((function(e){return Object(j.jsx)("li",{className:e===c?"waves-effect active":"waves-effect hover",onClick:function(t){return s(e,t)},children:Object(j.jsx)("a",{href:"/",children:e})},e)})),Object(j.jsx)("li",{onClick:function(e){e.preventDefault(),r[r.length-1]!==t&&(u=(u=[].concat(o)).slice(r[0],r[r.length-1]+1),l(u))},className:r[r.length-1]===t?"waves-effect disabled":"waves-effect",children:Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("i",{className:"material-icons",children:"chevron_right"})})})]})})},S="c773444",k=function(e){Object(o.a)(c,e);var t=Object(d.a)(c);function c(e){var a;return Object(r.a)(this,c),(a=t.call(this,e)).searchMovies=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",c="https://www.omdbapi.com/?apikey=".concat(S,"&s=").concat(e||"iron").concat("all"!==t?"&type=".concat(t):"");a.setState({isLoaded:!1,lastRequest:"".concat(e||"iron"),type:t}),1!==a.state.currentPage&&a.setState({currentPage:1}),fetch(c).then((function(e){return e.json()})).then((function(e){a.setState({movies:e.Search,isLoaded:!0,postsPerPage:Math.ceil(e.totalResults/10)})})).catch((function(e){console.error(e),a.setState({isLoaded:!1})}))},a.handleFilter=function(e,t){a.setState((function(){return{type:e.target.value}}),(function(){a.searchMovies(t,a.state.type)}))},a.openModal=function(e){a.setState({isLoadedModal:!1});var t=e.currentTarget.dataset.id;setTimeout((function(){fetch("https://www.omdbapi.com/?apikey=".concat(S,"&i=").concat(t)).then((function(e){return e.json()})).then((function(e){return a.setState({modal:!0,modalContent:e,isLoadedModal:!0})})).catch((function(e){console.error(e),a.setState({isLoadedModal:!1})}))}),500),document.querySelector(".modal-detail-content").scrollTop=0},a.changePage=function(e,t){if(t.preventDefault(),e!==a.state.currentPage){a.setState({currentPage:e,isLoaded:!1});var c=a.state.lastRequest,s=a.state.type;setTimeout((function(){fetch("https://www.omdbapi.com/?apikey=".concat(S,"&s=").concat(c).concat("all"!==s?"&type=".concat(s):"","&page=").concat(e)).then((function(e){return e.json()})).then((function(e){return a.setState({movies:e.Search,isLoaded:!0})})).catch((function(e){console.error(e),a.setState({isLoaded:!1})}))}),300)}},a.state={lastRequest:"",type:"all",movies:[],isLoaded:!1,modal:!1,modalContent:{},isLoadedModal:!0,postsPerPage:0,currentPage:1},a.mainRef=s.a.createRef(),a}return Object(l.a)(c,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.omdbapi.com/?apikey=".concat(S,"&s=iron")).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.Search,isLoaded:!0,postsPerPage:Math.ceil(t.totalResults/10),lastRequest:"iron"})})).catch((function(t){console.error(t),e.setState({isLoaded:!1})}))}},{key:"componentDidUpdate",value:function(e){e.reboot!==this.props.reboot&&this.props.reboot&&("iron"!==this.state.lastRequest||"iron"===this.state.lastRequest&&"all"!==this.state.type)&&this.searchMovies()}},{key:"render",value:function(){var e=this,t=this.state,c=t.movies,a=void 0===c?[]:c,s=t.isLoaded,n=t.modal,i=t.modalContent,r=t.isLoadedModal,l=t.postsPerPage,o=t.currentPage,d=t.type;return Object(j.jsxs)("main",{className:"container content",ref:this.mainRef,children:[Object(j.jsx)(x,{searchMovies:this.searchMovies,handleFilter:this.handleFilter,stateType:d}),s?Object(j.jsx)(m,{movies:a,openModal:this.openModal}):Object(j.jsx)(f,{}),r?"":Object(j.jsx)(y,{}),Object(j.jsx)(N,{isOpened:n,onModalClose:function(){return e.setState({modal:!1,modalContent:{}})},content:i}),a.length?Object(j.jsx)(P,{postsPerPage:l,currentPage:o,changePage:this.changePage}):""]})}}]),c}(a.Component),M=function(e){Object(o.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(r.a)(this,c);for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={reboot:!1},e.initialState=function(){e.setState({reboot:!e.state.reboot})},e}return Object(l.a)(c,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{initial:this.initialState.bind(this)}),this.state.reboot?Object(j.jsx)(k,{reboot:!0}):Object(j.jsx)(k,{reboot:1}),Object(j.jsx)(u,{})]})}}]),c}(a.Component),C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,18)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(M,{})}),document.getElementById("root")),C()}},[[17,1,2]]]);
//# sourceMappingURL=main.d5b76c91.chunk.js.map